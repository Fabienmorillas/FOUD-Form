<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Commande FOUD - Plateaux Repas</title>
  <style>
    body { font-family: 'Poppins', sans-serif; margin: 40px; background: #f7f7f7; }
    h1 { text-align: center; color: #222; }
    form { background: white; padding: 20px; border-radius: 10px; max-width: 900px; margin: auto; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    table { width: 100%; border-collapse: collapse; margin-bottom: 15px; }
    th, td { padding: 8px 10px; border-bottom: 1px solid #ddd; }
    th { text-align: left; width: 25%; }
    input, select, textarea { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px; }
    button { background: #222; color: white; border: none; padding: 12px 20px; border-radius: 5px; cursor: pointer; font-size: 16px; }
    button:hover { background: #444; }
    .plateau { border: 2px solid #ddd; padding: 15px; margin-bottom: 20px; border-radius: 10px; background: #fafafa; }
    .actions { text-align: center; margin-top: 20px; }
  </style>
</head>
<body>
  <h1>Commande de Plateaux Repas FOUD</h1>
  <form id="foudForm" method="POST" data-netlify="true" name="commande-foud">
    <input type="hidden" name="form-name" value="commande-foud">

    <div id="plateaux-container"></div>

    <div class="actions">
      <button type="button" onclick="ajouterPlateau()">‚ûï Ajouter un plateau</button>
      <button type="submit">üì¶ Envoyer ma commande</button>
      <button type="button" onclick="window.print()">üñ®Ô∏è Imprimer</button>
    </div>

    <h3>Informations de commande</h3>
    <table>
      <tr><th>Nom</th><td><input type="text" name="nom-client" required></td></tr>
      <tr><th>Email</th><td><input type="email" name="email-client" required></td></tr>
      <tr><th>T√©l√©phone</th><td><input type="tel" name="tel-client"></td></tr>
      <tr><th>Commentaires</th><td><textarea name="commentaires" rows="3"></textarea></td></tr>
    </table>
  </form>

<script>
let compteur = 0;
const plats = [
  "Cannelloni de veau / champignons / sauge",
  "La salade C√©sar",
  "√âpaule de veau confite / pur√©e de pommes de terre",
  "Poulet sauce Satay / Riz Basmati",
  "Risotto aux truffes / topinambours r√¥tis",
  "Tataki de thon / nouilles Soba",
  "Curry de l√©gumes japonais",
  "Salade de quinoa / papeton de Butternut / Courge"
];
const entrees = [
  "≈íufs Mimosa / salade m√¢che",
  "Focaccia fa√ßon pissaladi√®re",
  "Velout√© de poireaux / pommes de Terre"
];
const desserts = [
  "Mousse au chocolat 'D√©moniaque'",
  "Salade de fruits frais / sirop verveine",
  "Tarte 'Snickers'",
  "Graines de chia / ananas / fruits exotiques"
];
const boissons = [
  "Eaux gazeuse 50cl", "Eaux plate 50cl", "Coca cola zero 50cl", "Coca cola 50cl",
  "Jus d‚Äôorange", "Jus detox mangue gingembre 25cl", "Jus detox carotte citron 25cl",
  "Jus detox fruits rouge 25cl", "Limonade citron / citron vert 33cl",
  "Limonade citron / gingembre 33cl", "Kombucha curcuma / citron 33cl",
  "Kombucha mat√© / agrumes 33cl", "Kombucha hibiscus / rose 33cl"
];
const fromages = ["p√©lardon", "crottin de ch√®vre", "st-Marcellin"];

function ajouterPlateau() {
  compteur++;
  const div = document.createElement('div');
  div.classList.add('plateau');
  div.innerHTML = `
    <h3>Plateau ${compteur}</h3>
    <table>
      <tr><th>Nom</th><td><input type="text" name="plateau-${compteur}-nom" required></td></tr>
      <tr><th>Entr√©e</th><td>${selectHTML('entree', entrees, compteur)}</td></tr>
      <tr><th>Plat</th><td>${selectHTML('plat', plats, compteur)}</td></tr>
      <tr><th>Dessert</th><td>${selectHTML('dessert', desserts, compteur)}</td></tr>
      <tr><th>Boisson</th><td>${selectHTML('boisson', boissons, compteur)}</td></tr>
      <tr><th>Pain</th><td><input type="checkbox" name="plateau-${compteur}-pain" checked> Oui</td></tr>
      <tr><th>Fromage</th><td>${selectHTML('fromage', fromages, compteur, true)}</td></tr>
      <tr><th>Commentaires</th><td><textarea name="plateau-${compteur}-commentaire" rows="2"></textarea></td></tr>
    </table>
    <button type="button" onclick="supprimerPlateau(this)">üóëÔ∏è Supprimer ce plateau</button>
  `;
  document.getElementById('plateaux-container').appendChild(div);
}

function selectHTML(nom, options, num, includeEmpty=false) {
  return `<select name="plateau-${num}-${nom}" required>
    ${includeEmpty ? '<option value="">‚Äî Aucun ‚Äî</option>' : ''}
    ${options.map(o => `<option>${o}</option>`).join('')}
  </select>`;
}

function supprimerPlateau(btn) {
  btn.parentElement.remove();
}
</script>
</body>
</html>
